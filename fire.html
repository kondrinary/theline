<!doctype html>
<html lang="ru">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Unicode Flame — size min + coeff</title>
<style>
  html,body{margin:0;height:100%;background:#0025FF;overflow:hidden}
  canvas{display:block;width:100%;height:100%}
</style>
<canvas id="c"></canvas>
<script>
(()=> {
  const c = document.getElementById('c');
  const ctx = c.getContext('2d');
  let W,H, DPR=1;

  function resize(){
    DPR = Math.max(1, Math.min(2, window.devicePixelRatio||1));
    W = Math.floor(innerWidth*DPR);
    H = Math.floor(innerHeight*DPR);
    c.width=W; c.height=H;
  }
  addEventListener('resize', resize); resize();

  const glyphs = ["░","▒","▓","█"];
  function rnd(n){ return Math.random()*n; }

  let t=0;
  function frame(){
    t += 0.016;

    ctx.fillStyle="#0025FF";
    ctx.fillRect(0,0,W,H);

    const cols = 120;
    const cw = W/cols;
    const rows = Math.floor(H/cw);

    ctx.textAlign="center";
    ctx.textBaseline="middle";
    ctx.font = `${Math.max(10, cw*0.95)}px ui-monospace, SFMono-Regular, Menlo, Consolas, monospace`;

    for(let x=0;x<cols;x++){
      for(let y=0;y<rows;y++){
        const nx = x/cols;
        const ny = y/rows;

        const wave = Math.sin((nx*6 + t*0.8))*0.5 + 0.5;
        const rise = 1.0 - ny;
        const heat = Math.max(0, (rise - 0.15) * (wave+0.35));

        if(heat < 0.05) continue;

        const idx = Math.min(glyphs.length-1, Math.floor(heat*glyphs.length));
        ctx.fillStyle = (heat > 0.55) ? "#fff" : "#38ad40";

        ctx.fillText(glyphs[idx], x*cw + cw*0.5, y*cw + cw*0.5);
      }
    }

    requestAnimationFrame(frame);
  }
  frame();
})();
</script>
</html>
